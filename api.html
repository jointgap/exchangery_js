<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>The Exchangery | Trading API</title>

    <meta name="description" content="We provide the technology, infrastructure, regulatory and clearing relationships as well as brandable trading screens that you can use to create a distinct, personalized online presence for your exchange.">
    <meta name="author" content="Adrian Unger">

    <link rel="stylesheet" href="css/style.css">

    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

</head>
<body class="api">

    <header>
        <div class="inner">

            <h1><a href="index.html" title="The Exchangery Home" class="block">The Exchangery</a></h1>

            <nav>
                <ul>
                    <li><a href="index.html" title="Home">Home</a></li>
                    <li><a href="faq.html" title="Frequently Asked Questions">FAQ</a></li>
		    <li><a href="api.html" title="API" class="active">APIs</a></li>
                    <li><a href="trading.html" title="Trading Demo">Trading Demo</a></li>
                    <!-- <li><a href="account.html" title="Account Demo">Account Demo</a></li>  class="button darker" -->
                </ul>
            </nav>

        </div>
    </header>

    <div id="intro" class="intro">
        <div class="inner">

            <h2>API Documentation</h2>

        </div>
    </div>

    <div id="body">
        <div class="inner">

            <h2>Trading API</h2>
            <p>This is the public interface of the trading platform, to be used to develop trading screens.</p>

            <div class="column three_and_a_half right last box">
                <div class="inner_padding">
                    <h3>Table of Contents</h3>

                    <ol>
                        <li><a href="#trading_login">Login</a></li>
                        <li><a href="#trading_snapshot">Market Snapshot</a></li>
                        <li><a href="#trading_update">Market Update</a></li>
                        <li><a href="#trading_order">Order</a></li>
                    </ol>
                </div>
            </div>

            <dl id="trading" class="column eight">
                <dt id="trading_login">Login</dt>
                <dd>
                    <p>Before any data can be retrieved from the api, a login must be made. A login is per client, and subsequent calls to the api will only return information pertinent to that particular client. In order to achieve this, a session-id cookie is returned with the login response. It must be returned in the request header of all subsequent requests. In the future there may be an optional request parameter version of this for non browser clients.</p>
                    <h4>Request</h4>
                    <code>
                    <strong>method:</strong> POST 
                    <strong>url:</strong> /ts/login 
                    <strong>body:</strong> {"username":"[username]", "password":"[p455w0rd]", "market_id":"[id]"} 
                    </code>
                    <h4>Response</h4>
                    <code>{"result":"success"}</code>
                </dd>

                <dt id="trading_snapshot">Market Snapshot</dt>
                <dd>
                    <p>The market snapshot is the current state of the market at any given time. This lookup is expensive, and should only be performed once after login. This data can be used to construct an orders grid with full depth.</p>
                    <h4>Request</h4>
                    <code>
                    <strong>method:</strong> GET
                    <strong>url:</strong> /ts/market_snapshot?market_id=[id]
                    </code>

                    <h4>Response</h4>
                    <p>The response to this request is a JSON data structure called the <strong>snapshot</strong>. A snapshot consists of a market, a list of products and a list of orders.</p>

                    <h5>snapshot.products</h5>
                    <p>A list of all the products that are available to trade in the market. A product consists of an id and a symbol.</p>
                    <h5>snapshot.orders</h5>
                    <p>A list of all of the orders currently in the live market. An order consists of a market_id, product_id, side (buy or sell), quantity and price.</p>
                </dd>

                <dt id="trading_update">Market Update</dt>
                <dd>
                    <h4>request</h4>
                    <code>
                    <strong>method:</strong> GET
                    <strong>url:</strong> /ts/market_update?market_id=[id]
                    </code>
                    <h4>response</h4>
                    <p>The response to this request is a JSON data structure called the <strong>market_update</strong>. A market_update consists of a list of orders and a list of fills.</p>
                    <h5>market_update.orders</h5>
                    <p>A list of all of the orders that have been created since the last time this method was called (or since login if it has not previously been called). An order consists of a market_id, product_id, side (buy or sell), quantity and price.</p>
                    <h5>market_update.fills</h5>
                    <p>A list of all the fills that have been created since the last time this method was called. A fill consists of an order_id. The order corresponing to this fill should be removed from the market.</p>
                </dd>

                <dt id="trading_order">Order</dt>
                <dd>
                    <h4>Request</h4>
                    <code>
                    <strong>method:</strong> POST
                    <strong>url:</strong> /ts/orders<br>
                    <strong>body:</strong>
<pre>{"order":{
    "market_id":"[id]"
    ,"product_id":"[id]"
    ,"side":"[buy/sell]"
    ,"quantity":"[quantity]"
    ,"price":"[price]"
}}</pre>
                    </code>
                    <h4>response</h4>
                    <code>{"result":"success"}</code>
                </dd>
            </dl>

            <h2>Product API</h2>
            <p>This is the public interface for creating and managing products.</p>
            <dl id="product" class="column eight">
            </dl>

            <h2>Account API</h2>
            <p>This is the public interface for creating and managing company and user accounts.</p> 
            <dl id="account" class="column eight">
            </dl>

            <h2>Risk API</h2>
            <p>This is the public interface for setting up clearing, margins and limits. </p>
            <dl id="risk" class="column eight">
            </dl>

            <h2>Screen API</h2>
            <p>For hosted accounts this is the public interface to modify your user's trading screen. </p>
            <dl id="screen" class="column eight">
            </dl>

<!-- template
<h3></h3>
<h4>request</h4>
<div class="api-request">
  <label for="method">method: </label>POST 
  <label for="url">url: </label>/ts/login 
  <label for="body">body: </label>{"username":"demo","password":"demo"} 
</div>
<h4>response</h4>
<div class="api-response">
  
</div>
-->
      </div>
    </div>

    <div id="signup" class="focus">
        <div class="inset">
            <div class="inner">

                <p class="big column five">Sign up for our newsletter and get updates and early access.</p>

                <div class="column seven last">
                    <form id="newsletter">
                        <input type="text" name="email" placeholder="you@example.com">
                        <input type="submit" name="submit" value="Get Notified" class="button">
                    </form>
                </div>

            </div>
        </div>
    </div>

    <footer>
        <div class="inner">

            <p>&copy; 2011 The Exchangery.</p>

        </div>
    </footer>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script>!window.jQuery && document.write('<script src="js/jquery.js"><\/script>')</script>
<script type="text/javascript" src="js/plugins.js"></script>
<script type="text/javascript" src="js/newsletter.js"></script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22166769-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>
